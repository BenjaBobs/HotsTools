{"version":3,"sources":["api/state/heroes.ts","api/HotsTalents.ts","apps/overview/pages/hero-overview-page.tsx","apps/overview/pages/hero-details-page.tsx","apps/overview/overview-app.tsx","api/state/routing.tsx","apps/GitHub-app.tsx","apps/Apps.tsx","AppHost.tsx","serviceWorker.ts","index.tsx"],"names":["s_HeroNames","atom","key","default","s_Heroes","selector","get","a","heroNames","Promise","all","map","name","fetch","then","response","json","heroes","s_Hero","selectorFamily","find","h","shortName","s_HeroAbilities","hero","Object","entries","abilities","form","s_HeroTalents","talents","tier","GetHeroIcon","HeroOverviewPage","heroData","useRecoilValue","justify","x","to","path","pathname","replace","className","style","height","width","src","icon","HeroDetailsPage","props","abilitySets","talentSets","paddingLeft","paddingRight","flex","hoverable","title","Item","Meta","color","avatar","size","description","expandedRole","tags","join","abilitySet","length","ab","talentSet","talent","OverviewApp","component","nestedApps","browserHistory","createBrowserHistory","HistoryRecoilSync","set","useSetRecoilState","s_location","useEffect","listen","location","action","s_urlPath","GitHubApp","searchValues","search","slice","split","paramsObject","value","current","Array","isArray","push","overrideLink","s_rawApps","s_apps","__patchApps","apps","parentApp","extended","absolutePath","s_flatApps","flatMap","__flattenRoutes","appDef","s_appMatch","flatApps","console","log","app","match","matchPath","exact","strict","s_currentApp","appMatch","s_currentAppParams","params","Header","Layout","Content","AppHost","currentApp","currentAppParams","align","href","paddingTop","message","status","subTitle","Suspense","fallback","LoadingOutlined","React","cloneElement","Boolean","window","hostname","ReactDOM","render","StrictMode","history","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"qUAGaA,EAAcC,eAAK,CAC9BC,IAAK,cACLC,QAAS,CACP,UACA,SACA,cACA,MACA,SACA,WACA,UACA,SACA,SACA,UACA,QACA,aACA,aACA,SACA,OACA,UACA,UACA,YACA,UACA,SACA,SACA,MACA,MACA,UACA,QACA,OACA,UACA,UACA,QACA,WACA,SACA,QACA,UACA,WACA,QACA,UACA,UACA,WACA,YACA,WACA,WACA,SACA,OACA,SACA,cACA,YACA,QACA,SACA,QACA,YACA,WACA,WACA,SACA,MACA,WACA,UACA,QACA,UACA,OACA,SACA,UACA,QACA,WACA,SACA,SACA,SACA,SACA,YACA,QACA,WACA,SACA,WACA,WACA,SACA,SACA,SACA,SACA,UACA,QACA,UACA,QACA,SACA,YACA,MACA,OACA,SACA,QACA,UACA,YAISC,EAAWC,mBAAS,CAC/BH,IAAK,WACLI,IAAI,WAAD,4BAAE,iCAAAC,EAAA,6DAASD,EAAT,EAASA,IACNE,EAAYF,EAAIN,GADnB,SAGkBS,QAAQC,IAC3BF,EAAUG,KAAI,SAACC,GAAD,OACZC,MAAM,0DAAD,OACuDD,EADvD,UAEHE,KAFF,uCAEO,WAAOC,GAAP,SAAAR,EAAA,sEAA2BQ,EAASC,OAApC,mFAFP,2DALD,cAGGC,EAHH,yBAWIA,GAXJ,2CAAF,mDAAC,KAeOC,EAASC,yBAAe,CACnCjB,IAAK,SACLI,IAAK,SAACM,GAAD,OAAkB,YAGrB,OAFeN,EADmB,EAAVA,KACLF,GAELgB,MAAK,SAACC,GAAD,OAAOA,EAAEC,YAAcV,MAAS,SAI1CW,EAAkBJ,yBAAe,CAC5CjB,IAAK,kBACLI,IAAK,SAACM,GAAD,OAAkB,YAAc,IAC7BY,GAAOlB,EADqB,EAAVA,KACPY,EAAON,IAExB,OAAKY,EAEeC,OAAOC,QAAQF,EAAKG,WAAWhB,KACjD,YAAwB,IAAD,mBACrB,MAAO,CAAEiB,KADY,KACND,UADM,SAHP,SAYTE,EAAgBV,yBAAe,CAC1CjB,IAAK,gBACLI,IAAK,SAACM,GAAD,OAAkB,YAAc,IAC7BY,GAAOlB,EADqB,EAAVA,KACPY,EAAON,IAExB,OAAKY,EAEWC,OAAOC,QAAQF,EAAKM,SAASnB,KAAI,YAAsB,IAAD,mBACpE,MAAO,CAAEoB,KAD2D,KACrDD,QADqD,SAFpD,SClJf,SAASE,EAAYpB,GAC1B,MACE,mEAAqEA,E,sBCM1D,SAASqB,IACtB,IAAMC,EAAWC,yBAAe/B,GAEhC,OACE,kBAAC,IAAD,CAAKgC,QAAQ,iBACVF,EAASvB,KAAI,SAAC0B,GAAD,OACZ,kBAAC,IAAD,CACEnC,IAAKmC,EAAEf,UACPgB,GAAI,SAACC,GAAD,MACF,UAAGA,EAAKC,SAAR,mBAA2BH,EAAEf,WAAYmB,QAAQ,KAAM,OAGzD,kBAAC,IAAD,CACEC,UAAU,oBACVC,MAAO,CAAEC,OAAQ,GAAIC,MAAO,IAC5BC,IAAKd,EAAYK,EAAEU,a,+BCThB,SAASC,EAAgBC,GACtC,IAAMzB,EAAOW,yBAAejB,EAAO+B,EAAMzB,OACnC0B,EAAcf,yBAAeZ,EAAgB0B,EAAMzB,OACnD2B,EAAahB,yBAAeN,EAAcoB,EAAMzB,OAEtD,OACE,kBAAC,IAAD,CAAKY,QAAQ,SAASO,MAAO,CAAES,YAAa,GAAIC,aAAc,KAC5D,kBAAC,IAAD,CAAKC,KAAM,GACT,kBAAC,IAAD,CACEC,WAAW,EACXC,MACE,kBAAC,IAAKC,KAAKC,KAAX,CACEf,MAAO,CAAEgB,MAAO,SAChBC,OACE,kBAAC,IAAD,CACElB,UAAU,UACVC,MAAO,CAAEE,MAAO,GAAID,OAAQ,IAC5BiB,KAAK,QACLf,IAAKd,EAAW,OAACR,QAAD,IAACA,OAAD,EAACA,EAAMuB,QAG3BS,MAAO,4BAAKhC,EAAKZ,MACjBkD,YAAatC,EAAKuC,aAAe,OAApB,OAA4BvC,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAMwC,KAAKC,KAAK,UAI7D,kBAAC,IAAD,KACE,kBAAC,IAAD,KACGf,EAAYvC,KAAI,SAACuD,GAAD,OACf,oCACE,kBAAC,IAAD,KACE,wCACY,IACThB,EAAYiB,OAAS,GAArB,WAA8BD,EAAWtC,KAAzC,OAGL,kBAAC,IAAD,KACE,kBAAC,IAAD,KACGsC,EAAWvC,UAAUhB,KAAI,SAACyD,GAAD,OACxB,oCACE,kBAAC,IAAD,CACE1B,UAAU,UACVmB,KAAK,QACLf,KFnDGlC,EEmDiBwD,EAAGrB,KFjD/C,oEAAsEnC,MAFnE,IAAwBA,aE6DrB,kBAAC,IAAD,KACE,6BACA,8BAEF,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,wCAEDuC,EAAWxC,KAAI,SAAC0D,GAAD,OACd,oCACE,kBAAC,IAAD,KACE,qCAAWA,EAAUtC,OAEvB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACGsC,EAAUvC,QAAQnB,KAAI,SAAC2D,GAAD,OACrB,oCACE,kBAAC,IAAD,CACE5B,UAAU,UACVmB,KAAK,QACLf,KF5EElC,EE4EiB0D,EAAOvB,KF1ElD,oEAAsEnC,MAFnE,IAAuBA,gBGP9B,IAae2D,EAboB,CACjC3D,KAAM,WACN2B,KAAM,GACNiC,UAAW,kBAACvC,EAAD,MACXwC,WAAY,CACV,CACE7D,KAAM,eACN2B,KAAM,eACNiC,UAAW,kBAACxB,EAAD,S,QCRJ0B,EAAiBC,cAEvB,SAASC,IACd,IAAMC,EAAMC,4BAAkBC,GAS9B,OAPAC,qBAAU,WACR,OAAON,EAAeO,QAAO,SAACC,EAAUC,GAEtCN,EAAIK,QAEL,CAACL,IAEG,qCAGgB5E,eAAK,CAC5BC,IAAK,eACLC,QAASuE,IAFJ,IAKMK,EAAa9E,eAAK,CAC7BC,IAAK,WACLC,QAASuE,EAAeQ,WAGbE,EAAY/E,mBAAS,CAChCH,IAAK,UACLI,IAAK,mBAAaA,EAAb,EAAGA,KAAcyE,GAAYvC,YCzBrB6C,GD4BchF,mBAAS,CACpCH,IAAK,cACLI,IAAK,YAAc,IAAD,EACVgF,GAAehF,EADL,EAAVA,KACmByE,GAAYQ,OAAOC,MAAM,GAAGC,MAAM,KAEvDC,EAAqD,GAHzC,cAKEJ,GALF,IAKhB,2BAAgC,CAAC,IAAD,UACLG,MAAM,KADD,mBACvBvF,EADuB,KAClByF,EADkB,KAG1BC,EAAUF,EAAaxF,GACtB0F,EAGCC,MAAMC,QAAQF,GAChBA,EAAQG,KAAKJ,IAEbC,EAAU,CAACA,EAASD,GACpBD,EAAaxF,GAAO0F,GANtBF,EAAaxF,GAAOyF,GAVR,8BAqBhB,OAAOD,KCzDsB,CAC/B9E,KAAM,gBACN2B,KAAM,SACNyD,aAAc,2CCIVC,EAAYhG,eAAK,CACrBC,IAAK,WACLC,QAAS,CAACoE,EAAac,KAGZa,EAAS7F,mBAAS,CAC7BH,IAAK,OACLI,IAAK,YAGH,OAEA,SAAS6F,EACPC,EACAC,GAC0B,IAAD,gBACPD,GADO,IACzB,2BAAwB,CAAC,IACjBE,EADgB,QAGtBA,EAASC,aAAeF,EACpBA,EAAUE,aAAe,IAAMD,EAAS/D,KACxC,aAAe+D,EAAS/D,KAExB+D,EAAS7B,YACX0B,EAAYG,EAAS7B,WAAY6B,IATZ,8BAazB,OAAOF,EAlBFD,EAFM7F,EADG,EAAVA,KACW2F,OAyBRO,EAAanG,mBAAS,CACjCH,IAAK,WACLI,IAAK,YAGH,OAFaA,EADG,EAAVA,KACW4F,GAELO,SAEZ,SAASC,EACPC,GAC0B,IAAD,EACzB,MAAM,CAAEA,GAAR,oBAA0B,OAANA,QAAM,IAANA,GAAA,UAAAA,EAAQlC,kBAAR,eAAoBgC,QAAQC,KAAoB,WAK7DE,EAAavG,mBAAS,CACjCH,IAAK,WACLI,IAAK,YAAc,IAAXA,EAAU,EAAVA,IACAiC,EAAOjC,EAAI8E,GACXyB,EAAWvG,EAAIkG,GACrBM,QAAQC,IAAIF,EAASlG,KAAI,SAAC0B,GAAD,OAAOA,EAAEkE,iBAHlB,oBAIEM,GAJF,IAIhB,2BAA4B,CAAC,IAAlBG,EAAiB,QACpBC,EAAQC,YAAU3E,EAAM,CAC5BA,KAAMyE,EAAIT,aACVY,OAAO,EACPC,QAAQ,IAGV,GAAIH,EACF,MAAO,CACLA,QACAD,QAdU,8BAmBhB,MAAO,CACLC,MAAO,KACPD,IAAK,SAKEK,EAAehH,mBAAS,CACnCH,IAAK,aACLI,IAAK,YAAc,IACXgH,GAAWhH,EADD,EAAVA,KACesG,GAErB,cAAOU,QAAP,IAAOA,OAAP,EAAOA,EAAUN,OAIRO,EAAqBlH,mBAAS,CACzCH,IAAK,mBACLI,IAAK,YAAc,IAAD,EACVgH,GAAWhH,EADD,EAAVA,KACesG,GACrB,cAAOU,QAAP,IAAOA,GAAP,UAAOA,EAAUL,aAAjB,aAAO,EAAiBO,U,0BCzFpBC,EAAoBC,IAApBD,OAAQE,EAAYD,IAAZC,QAED,SAASC,IACtB,IAAMxB,EAAOjE,yBAAe+D,GACtB2B,EAAa1F,yBAAekF,GAC5BS,EAAmB3F,yBAAeoF,GAExC,OACE,kBAAC,IAAD,KACE,kBAACE,EAAD,KACE,kBAAC,IAAD,CAAKM,MAAM,SAAS3F,QAAQ,gBACzBgE,EAAKzF,KAAI,SAACqG,GAAD,OACRA,EAAIhB,aACF,uBACEtD,UAAU,OACVxC,IAAK8G,EAAIhB,aACTgC,KAAMhB,EAAIhB,cAETgB,EAAIpG,MAGP,kBAAC,IAAD,CACE8B,UAAU,OACVxC,IAAK8G,EAAIT,aACTjE,GAAI0E,EAAIT,cAEPS,EAAIpG,WAMf,kBAAC+G,EAAD,KACE,kBAAC,IAAD,CAAKvF,QAAQ,UACX,kBAAC,IAAD,CACEO,MAAO,CACLgB,MAAO,QACPsE,WAAY,GACZ7E,YAAa,GACbC,aAAc,IAEhBC,KAAK,KAEHuE,EAOA,kBAAC,IAAD,CACEK,QACE,kBAAC,IAAD,CACEC,OAAO,MACP3E,MAAM,QACN4E,SAAS,0CAIb,kBAAC,IAAMC,SAAP,CACEC,SACE,kBAAC,IAAD,CAAQ9E,MAAM,aAAaT,KAAM,kBAACwF,EAAA,EAAD,SAGlCC,IAAMC,aAAN,OACCZ,QADD,IACCA,OADD,EACCA,EAAYrD,UACZsD,KAtBN,kBAAC,IAAD,CACEK,OAAO,MACP3E,MAAM,YACN4E,SAAS,oDC3CLM,QACW,cAA7BC,OAAOzD,SAAS0D,UAEe,UAA7BD,OAAOzD,SAAS0D,UAEhBD,OAAOzD,SAAS0D,SAAS3B,MACvB,2DCTN4B,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,aAAD,KACE,kBAACnE,EAAD,MACA,kBAAC,IAAD,CAAQoE,QAAStE,GACf,kBAACkD,EAAD,SAINqB,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBvI,MAAK,SAAAwI,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL3C,QAAQ2C,MAAMA,EAAMvB,c","file":"static/js/main.5f5e2d80.chunk.js","sourcesContent":["import { atom, selector, selectorFamily } from 'recoil';\nimport { Hero, TalentTier, Talent } from './hero-types';\n\nexport const s_HeroNames = atom({\n  key: 's_HeroNames',\n  default: [\n    'abathur',\n    'alarak',\n    'alexstrasza',\n    'ana',\n    'anduin',\n    'anubarak',\n    'artanis',\n    'arthas',\n    'auriel',\n    'azmodan',\n    'blaze',\n    'brightwing',\n    'thebutcher',\n    'cassia',\n    'chen',\n    'chogall',\n    'chromie',\n    'deathwing',\n    'deckard',\n    'dehaka',\n    'diablo',\n    'dva',\n    'etc',\n    'falstad',\n    'fenix',\n    'gall',\n    'garrosh',\n    'gazlowe',\n    'genji',\n    'greymane',\n    'guldan',\n    'hanzo',\n    'illidan',\n    'imperius',\n    'jaina',\n    'johanna',\n    'junkrat',\n    'kaelthas',\n    'kelthuzad',\n    'kerrigan',\n    'kharazim',\n    'leoric',\n    'lili',\n    'liming',\n    'lostvikings',\n    'ltmorales',\n    'lucio',\n    'lunara',\n    'maiev',\n    'malfurion',\n    'malganis',\n    'malthael',\n    'medivh',\n    'mei',\n    'mephisto',\n    'muradin',\n    'murky',\n    'nazeebo',\n    'nova',\n    'orphea',\n    'probius',\n    'qhira',\n    'ragnaros',\n    'raynor',\n    'rehgar',\n    'rexxar',\n    'samuro',\n    'sgthammer',\n    'sonya',\n    'stitches',\n    'stukov',\n    'sylvanas',\n    'tassadar',\n    'thrall',\n    'tracer',\n    'tychus',\n    'tyrael',\n    'tyrande',\n    'uther',\n    'valeera',\n    'valla',\n    'varian',\n    'whitemane',\n    'xul',\n    'yrel',\n    'zagara',\n    'zarya',\n    'zeratul',\n    'zuljin',\n  ],\n});\n\nexport const s_Heroes = selector({\n  key: 's_Heroes',\n  get: async ({ get }) => {\n    const heroNames = get(s_HeroNames);\n\n    const heroes = await Promise.all(\n      heroNames.map((name) =>\n        fetch(\n          `https://heroespatchnotes.github.io/heroes-talents/hero/${name}.json`\n        ).then(async (response) => (await response.json()) as Hero)\n      )\n    );\n\n    return heroes;\n  },\n});\n\nexport const s_Hero = selectorFamily({\n  key: 's_Hero',\n  get: (name: string) => ({ get }) => {\n    const heroes = get(s_Heroes);\n\n    return heroes.find((h) => h.shortName === name) || null;\n  },\n});\n\nexport const s_HeroAbilities = selectorFamily({\n  key: 's_HeroAbilities',\n  get: (name: string) => ({ get }) => {\n    const hero = get(s_Hero(name));\n\n    if (!hero) return null;\n\n    const abilitySets = Object.entries(hero.abilities).map(\n      ([form, abilities]) => {\n        return { form, abilities };\n      }\n    );\n\n    return abilitySets;\n  },\n});\n\nexport const s_HeroTalents = selectorFamily({\n  key: 's_HeroTalents',\n  get: (name: string) => ({ get }) => {\n    const hero = get(s_Hero(name));\n\n    if (!hero) return null;\n\n    const talents = Object.entries(hero.talents).map(([tier, talents]) => {\n      return { tier, talents } as { tier: TalentTier; talents: Talent[] };\n    });\n\n    return talents;\n  },\n});\n","export function GetHeroIcon(name: string) {\n  return (\n    'https://heroespatchnotes.github.io/heroes-talents/images/heroes/' + name\n  );\n}\n\nexport function GetAbilityIcon(name: string) {\n  return (\n    'https://heroespatchnotes.github.io/heroes-talents/images/talents/' + name\n  );\n}\n\nexport function GetTalentIcon(name: string) {\n  return (\n    'https://heroespatchnotes.github.io/heroes-talents/images/talents/' + name\n  );\n}\n","import React from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { s_Heroes } from '../../../api/state/heroes';\nimport { Row } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { GetHeroIcon } from '../../../api/HotsTalents';\nimport Avatar from 'antd/lib/avatar/avatar';\n\nexport default function HeroOverviewPage() {\n  const heroData = useRecoilValue(s_Heroes);\n\n  return (\n    <Row justify=\"space-between\">\n      {heroData.map((x) => (\n        <Link\n          key={x.shortName}\n          to={(path) =>\n            `${path.pathname}/heroes/${x.shortName}`.replace('//', '/')\n          }\n        >\n          <Avatar\n            className=\"outline hoverable\"\n            style={{ height: 80, width: 80 }}\n            src={GetHeroIcon(x.icon)}\n          />\n        </Link>\n      ))}\n    </Row>\n  );\n}\n","import React from 'react';\nimport { useRecoilValue } from 'recoil';\nimport {\n  s_Hero,\n  s_HeroAbilities,\n  s_HeroTalents,\n} from '../../../api/state/heroes';\nimport { Row, Card, List, Avatar, Col } from 'antd';\nimport {\n  GetHeroIcon,\n  GetAbilityIcon,\n  GetTalentIcon,\n} from '../../../api/HotsTalents';\n\nexport default function HeroDetailsPage(props: { hero?: string }) {\n  const hero = useRecoilValue(s_Hero(props.hero!))!;\n  const abilitySets = useRecoilValue(s_HeroAbilities(props.hero!))!;\n  const talentSets = useRecoilValue(s_HeroTalents(props.hero!))!;\n\n  return (\n    <Row justify=\"center\" style={{ paddingLeft: 48, paddingRight: 48 }}>\n      <Col flex={1}>\n        <Card\n          hoverable={false}\n          title={\n            <List.Item.Meta\n              style={{ color: 'white' }}\n              avatar={\n                <Avatar\n                  className=\"outline\"\n                  style={{ width: 80, height: 80 }}\n                  size=\"large\"\n                  src={GetHeroIcon(hero?.icon!)}\n                />\n              }\n              title={<h1>{hero.name}</h1>}\n              description={hero.expandedRole + ' | ' + hero?.tags.join(', ')}\n            />\n          }\n        >\n          <Row>\n            <Col>\n              {abilitySets.map((abilitySet) => (\n                <>\n                  <Row>\n                    <h2>\n                      Abilities{' '}\n                      {abilitySets.length > 1 && `(${abilitySet.form})`}\n                    </h2>\n                  </Row>\n                  <Row>\n                    <Col>\n                      {abilitySet.abilities.map((ab) => (\n                        <>\n                          <Avatar\n                            className=\"hexagon\"\n                            size=\"large\"\n                            src={GetAbilityIcon(ab.icon)}\n                          />\n                        </>\n                      ))}\n                    </Col>\n                  </Row>\n                </>\n              ))}\n            </Col>\n          </Row>\n          <Row>\n            <br />\n            <br />\n          </Row>\n          <Row>\n            <Col>\n              <Row>\n                <h2>Talents</h2>\n              </Row>\n              {talentSets.map((talentSet) => (\n                <>\n                  <Row>\n                    <h3>Level {talentSet.tier}</h3>\n                  </Row>\n                  <Row>\n                    <Col>\n                      {talentSet.talents.map((talent) => (\n                        <>\n                          <Avatar\n                            className=\"hexagon\"\n                            size=\"large\"\n                            src={GetTalentIcon(talent.icon)}\n                          />\n                        </>\n                      ))}\n                    </Col>\n                  </Row>\n                </>\n              ))}\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  );\n}\n","import React from 'react';\nimport { AppDefinition } from '../AppDefinition';\nimport HeroOverviewPage from './pages/hero-overview-page';\nimport HeroDetailsPage from './pages/hero-details-page';\n\nconst OverviewApp: AppDefinition = {\n  name: 'Overview',\n  path: '',\n  component: <HeroOverviewPage />,\n  nestedApps: [\n    {\n      name: 'Hero details',\n      path: 'heroes/:hero',\n      component: <HeroDetailsPage />,\n    },\n  ],\n};\n\nexport default OverviewApp;\n","import React from 'react';\nimport { createBrowserHistory } from 'history';\nimport { useSetRecoilState, atom, selector } from 'recoil';\nimport { useEffect } from 'react';\n\nexport const browserHistory = createBrowserHistory();\n\nexport function HistoryRecoilSync() {\n  const set = useSetRecoilState(s_location);\n\n  useEffect(() => {\n    return browserHistory.listen((location, action) => {\n      // action = 'PUSH' | 'POP' | 'REPLACE';\n      set(location);\n    });\n  }, [set]);\n\n  return <></>;\n}\n\nexport const s_history = atom({\n  key: 'historyState',\n  default: browserHistory,\n});\n\nexport const s_location = atom({\n  key: 'location',\n  default: browserHistory.location,\n});\n\nexport const s_urlPath = selector({\n  key: 'urlPath',\n  get: ({ get }) => get(s_location).pathname,\n});\n\nexport const s_queryParams = selector({\n  key: 'queryParams',\n  get: ({ get }) => {\n    const searchValues = get(s_location).search.slice(1).split('&');\n\n    let paramsObject: { [key: string]: string | string[] } = {};\n\n    for (const kvp of searchValues) {\n      const [key, value] = kvp.split('=');\n\n      let current = paramsObject[key];\n      if (!current) {\n        paramsObject[key] = value;\n      } else {\n        if (Array.isArray(current)) {\n          current.push(value);\n        } else {\n          current = [current, value];\n          paramsObject[key] = current;\n        }\n      }\n    }\n\n    return paramsObject;\n  },\n});\n","import { AppDefinition } from './AppDefinition';\nconst GitHubApp: AppDefinition = {\n  name: 'GitHub/Source',\n  path: 'github',\n  overrideLink: 'https://github.com/BenjaBobs/HotsTools',\n};\n\nexport default GitHubApp;\n","import { matchPath } from 'react-router-dom';\nimport { atom, selector } from 'recoil';\n\nimport { AppDefinition, ExtendedAppDefinition } from './AppDefinition';\nimport OverviewApp from './overview/overview-app';\nimport { s_urlPath } from '../api/state/routing';\nimport GitHubApp from './GitHub-app';\n\nconst s_rawApps = atom({\n  key: 'raw_apps',\n  default: [OverviewApp, GitHubApp],\n});\n\nexport const s_apps = selector({\n  key: 'apps',\n  get: ({ get }) => {\n    const apps = get(s_rawApps);\n\n    return __patchApps(apps);\n\n    function __patchApps(\n      apps: AppDefinition[],\n      parentApp?: ExtendedAppDefinition\n    ): ExtendedAppDefinition[] {\n      for (const app of apps) {\n        const extended = app as ExtendedAppDefinition;\n\n        extended.absolutePath = parentApp\n          ? parentApp.absolutePath + '/' + extended.path\n          : '/HotsTools' + extended.path;\n\n        if (extended.nestedApps) {\n          __patchApps(extended.nestedApps, extended);\n        }\n      }\n\n      return apps as ExtendedAppDefinition[];\n    }\n  },\n});\n\nexport const s_flatApps = selector({\n  key: 'appsFlat',\n  get: ({ get }) => {\n    const apps = get(s_apps);\n\n    return apps.flatMap(__flattenRoutes);\n\n    function __flattenRoutes(\n      appDef: ExtendedAppDefinition\n    ): ExtendedAppDefinition[] {\n      return [appDef, ...(appDef?.nestedApps?.flatMap(__flattenRoutes) || [])];\n    }\n  },\n});\n\nexport const s_appMatch = selector({\n  key: 'appMatch',\n  get: ({ get }) => {\n    const path = get(s_urlPath);\n    const flatApps = get(s_flatApps);\n    console.log(flatApps.map((x) => x.absolutePath));\n    for (const app of flatApps) {\n      const match = matchPath(path, {\n        path: app.absolutePath,\n        exact: true,\n        strict: false,\n      });\n\n      if (match) {\n        return {\n          match,\n          app,\n        };\n      }\n    }\n\n    return {\n      match: null,\n      app: null,\n    };\n  },\n});\n\nexport const s_currentApp = selector({\n  key: 'currentApp',\n  get: ({ get }) => {\n    const appMatch = get(s_appMatch);\n\n    return appMatch?.app;\n  },\n});\n\nexport const s_currentAppParams = selector({\n  key: 'currentAppParams',\n  get: ({ get }) => {\n    const appMatch = get(s_appMatch);\n    return appMatch?.match?.params;\n  },\n});\n","import React from 'react';\nimport { Layout, Row, Col, Result } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { useRecoilValue } from 'recoil';\nimport { s_currentApp, s_currentAppParams, s_apps } from './apps/Apps';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport ErrorBoundary from 'antd/lib/alert/ErrorBoundary';\n\nconst { Header, Content } = Layout;\n\nexport default function AppHost() {\n  const apps = useRecoilValue(s_apps);\n  const currentApp = useRecoilValue(s_currentApp);\n  const currentAppParams = useRecoilValue(s_currentAppParams);\n\n  return (\n    <Layout>\n      <Header>\n        <Row align=\"middle\" justify=\"space-around\">\n          {apps.map((app) =>\n            app.overrideLink ? (\n              <a\n                className=\"glow\"\n                key={app.overrideLink}\n                href={app.overrideLink}\n              >\n                {app.name}\n              </a>\n            ) : (\n              <Link\n                className=\"glow\"\n                key={app.absolutePath}\n                to={app.absolutePath}\n              >\n                {app.name}\n              </Link>\n            )\n          )}\n        </Row>\n      </Header>\n      <Content>\n        <Row justify=\"center\">\n          <Col\n            style={{\n              color: 'white',\n              paddingTop: 16,\n              paddingLeft: 32,\n              paddingRight: 32,\n            }}\n            flex=\"1\"\n          >\n            {!currentApp ? (\n              <Result\n                status=\"404\"\n                title=\"Not found\"\n                subTitle=\"Sorry, the page you visited does not exist.\"\n              />\n            ) : (\n              <ErrorBoundary\n                message={\n                  <Result\n                    status=\"500\"\n                    title=\"Error\"\n                    subTitle=\"Sorry, something tralala went wrong.\"\n                  />\n                }\n              >\n                <React.Suspense\n                  fallback={\n                    <Result title=\"Loading...\" icon={<LoadingOutlined />} />\n                  }\n                >\n                  {React.cloneElement(\n                    currentApp?.component as React.ReactElement,\n                    currentAppParams\n                  )}\n                </React.Suspense>\n              </ErrorBoundary>\n            )}\n          </Col>\n        </Row>\n      </Content>\n    </Layout>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppHost from './AppHost';\nimport * as serviceWorker from './serviceWorker';\nimport { RecoilRoot } from 'recoil';\nimport { Router } from 'react-router-dom';\nimport { HistoryRecoilSync, browserHistory } from './api/state/routing';\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <HistoryRecoilSync />\n      <Router history={browserHistory}>\n        <AppHost />\n      </Router>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}